{% extends "network/layout.html" %}
{% load static %}

{% block body %}
    {% if page_obj %}
        {% for post in page_obj %}
            <div class="my-3">
                <a href="{% url "profile" post.user %}" class="text-reset text-decoration-none">
                    <h4><strong>{{post.user.username}}</strong></h4>
                </a>
                <div>{{post.content}}</div>
                <span class="text-black-50">{{post.datetime}}</span>
            </div>
            <hr>
        {% endfor %}
        <nav>
            <ul class="pagination justify-content-center">
            <li class="page-item {% if not page_obj.has_previous %} disabled {% endif %}">
                <a class="page-link" {% if page_obj.has_previous %} href="?page={{ page_obj.previous_page_number }}" 
                {% else %} tabindex="-1" aria-disabled="true" {% endif %}>Previous</a>
            </li>
            {% for i in range_pages %}
                <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
            {% endfor %}
            <li class="page-item {% if not page_obj.has_next %} disabled {% endif %}">
                <a class="page-link" {% if page_obj.has_next %} href="?page={{ page_obj.next_page_number }}" 
                {% else %} tabindex="-1" aria-disabled="true" {% endif %}>Next</a>
            </li>
            </ul>
        </nav>
    {% else %}
        <div class="text-center">
            <h3>Your following page is empty</h3>
            <span class="text-black-50">Follow other users to see their posts here</span>
        </div>
    {% endif %}
{% endblock %}